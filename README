HUBO-ACH

Run Hubo-Ach
============

(1) Setup Config (first time only or new builds and param changes)
	$ sudo ./run.sh config
(2) Start hubo-ach daemon.  This will automatically start hubo-console as well
    CAN packets will not start to be sent
	$ sudo ./run.sh start
(3) To stop hubo-ach daemon 
	$ sudo ./run.sh stop

Install ACH
===========

(1) Add this line to /etc/apt/sources.list:

    deb http://code.golems.org/debian squeeze golems.org

  (Replace squeeze with the codename for your distribution, ie lucid,
  precise, etc.)

(2) `sudo apt-get update`
(3) `sudo apt-get install libach0 libach-dev`
(4) `sudo apt-get install ach-utils`


hubo-ach-console
================
Console input for hubo-ach

Usage:
    Functions: "initilize XXX" - turns on FETs and initilizes motor XXX
               "initilizeAll"  - turns on FETs and initilizes all active motors
               "home XXX"      - homes motor XXX, must be initilized
               "homeAll"       - homes all motors that are active and initilized
               "goto XXX val"  - sets motor XXX to goto position "val" in rad. 
                                 uses linear interpolation via hubo-ref-filter
                                 0.5 sec linear filter by default
               "get XXX"       - gets current encoder location of motor XXX



Required for installation:
    sudo apt-get install libreadline-dev

For joint "goto" functionality must have hubo-ref-filter running
    Note: do not have hubo-ref-filter running when trying to write directly
          to the hubo-ref channel.
	$ sudo ./hubo-ref-filter


hubo-ach-loop
=============
demo loop that communicates with hubo ach

install Drivers for PEAK
========================
sudo apt-get install libpopt-dev
cd drivers
tar -zxvf peak-linux-driver-7.7.tar.gz
cd peak-linux-driver-7.7
make
=======

Remote
======

Install inetd
sudo apt-get install inetutils-inetd
sudo apt-get install openbsd-inetd

(1) Remote Channels

Ensure the the remote host has inetd running
Ensure the the remote host's /etc/inetd.conf contains the line

    8075                stream     tcp     nowait     nobody     /usr/bin/achpipe   /usr/bin/achpipe -R 

Ensure any channels exist on both the remote and local host
Ensure that the remote channel is chmodded to 666 (or better yet, set up an ach user in inted.conf)

$ chmod /dev/shm/achshm-CHANNEL_NAME 666 


(2) Pull a Channel from a Remote Host

$ achpipe -Wp CHANNEL_NAME -H REMOTE_HOST 


(2) Push a Channel to a Remote Host

$ achpipe -Ws CHANNEL_NAME -H REMOTE_HOST 
